services:
  homeassitant:
    image: lscr.io/linuxserver/homeassistant:latest
    container_name: homeassistant
    volumes:
      - ../config/homeassistant:/config
    networks:
      - internal
    expose:
      - "8123"
    ports:
      - 8123:8123
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/Stockholm
    extra_hosts:
          - "host.docker.internal:host-gateway"
    restart: unless-stopped

  faster-whisper:
    image: lscr.io/linuxserver/faster-whisper:latest
    container_name: faster-whisper
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/Stockholm
      - WHISPER_MODEL=tiny-int8
      - WHISPER_BEAM=1 #optional
      - WHISPER_LANG=en #optional
    volumes:
      - ../whisper:/config
    networks:
      - internal
    ports:
      - 10300:10300
    restart: unless-stopped


  piper:
    image: lscr.io/linuxserver/piper:latest
    container_name: piper
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/Stockholm
      - PIPER_VOICE=en_US-lessac-medium
      - PIPER_LENGTH=1.0 #optional
      - PIPER_NOISE=0.667 #optional
      - PIPER_NOISEW=0.333 #optional
      - PIPER_SPEAKER=0 #optional
      - PIPER_PROCS=1 #optional
    volumes:
      - ../piper:/config
    ports:
      - 10200:10200
    networks:
      - internal
    restart: unless-stopped
